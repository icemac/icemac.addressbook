[buildout]
extends = base.cfg
parts = ${buildout:base-parts}
        omelette importchecker coverage branch-coverage coc

[site.zcml]
prepend_zcml =
append_zcml = <include file="dev_profiling.zcml" />
              <include file="dev_admin_user.zcml" />
              <include file="default_skin.zcml" />

[app]
eggs += z3c.profiler
        stxnext.pdb

[test]
eggs += stxnext.pdb

[omelette]
recipe = collective.recipe.omelette
eggs = ${app:eggs}
       icemac.addressbook [test]
       zc.buildout

[importchecker]
recipe = zc.recipe.egg
eggs = importchecker
arguments = "${buildout:directory}/src"

[coverage]
recipe = zc.recipe.egg
eggs = tha.coverage

[branch-coverage]
recipe = tranchitella.recipe.testrunner
eggs = ${test:eggs}
defaults = ['--coverage-module', 'icemac.addressbook', '--coverage-branch', '--coverage-html']


[coc]
recipe = icemac.callonchange
name = coc